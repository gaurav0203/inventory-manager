{% extends "base.html" %}
{% block content %}

<div class="container mt-4">
  <h2 class="mb-4 text-center">All Products</h2>
  
  <div class="table-responsive">
    <table class="table table-bordered table-hover align-middle">
      <thead class="table-dark">
        <tr>
          <th>Id</th>
          <th>Product Name</th>
          <th>SKU</th>
          <th>Category</th>
          <th>Purchase Price</th>
          <th>Selling Price</th>
          <th>Quantity</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for product in products %}
        <tr>
          <form method="POST" action="{{ url_for('routes.update_product') }}">
            <input type="hidden" name="id" value="{{ product.id }}">
            
            <td>{{ product.id }}</td>
            <td>
              <input type="text" name="name" value="{{ product.name }}" class="form-control">
            </td>
            <td>
              <input type="text" name="sku" value="{{ product.sku }}" class="form-control" readonly>
            </td>
            <td>
              <input type="text" name="category" value="{{ product.category }}" class="form-control">
            </td>
            <td>
              <input type="number" step="0.01" name="purchase_price" value="{{ product.purchase_price }}" class="form-control">
            </td>
            <td>
              <input type="number" step="0.01" name="selling_price" value="{{ product.selling_price }}" class="form-control">
            </td>
            <td>
              <input type="number" step="1" min="0" max="100000" name="quantity" value="{{ product.quantity }}" class="form-control">
            </td>
            <td class="text-center">
              <div class="btn-group" role="group">
                <button type="submit" name="action" value="update" class="btn btn-sm btn-primary">
                  Update
                </button>
                <button type="submit" name="action" value="delete" class="btn btn-sm btn-danger" onclick="return confirm('Delete this product?')">
                  Delete
                </button>
              </div>
            </td>
          </form>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% endblock %}
